--- a/src/libraries/vt.c	2008-11-25 11:21:28.000000000 +0000
+++ b/src/libraries/vt.c	2020-06-09 07:25:05.678946360 +0000
@@ -101,9 +101,11 @@
   
   if (!ttyname) return 0;
   /* we set stdin, stdout and stderr to the new tty */
+#ifndef _POSIX_SOURCE
   stdin  = freopen(ttyname, "r", stdin);
   stdout = freopen(ttyname, "w", stdout);
   stderr = freopen(ttyname, "w", stderr);
+#endif
   free(ttyname);
   if (!stdin || !stdout || !stderr) return 0;
 
